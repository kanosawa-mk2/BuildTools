<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- WARNING: Eclipse auto-generated file.
              Any modifications will be overwritten.
              To include a user specific buildfile here, simply create one in the same
              directory with the processing instruction <?eclipse.ant.import?>
              as the first entry and export the buildfile again. -->
<project basedir="." default="build" name="Methods">

	<!-- ビルド設定 -->
	<property file="\build.properties" />

	<property environment="env" />

	<property name="phase1_src.link" value="${src_phase1.pathvariable}/MethodsServer/src" />

	<property name="phase2_src.link" value="${src_phase2.pathvariable}/MethodsServer/src" />
	<property name="phase2_common_src.link" value="${src_phase2.pathvariable}/common/src" />
	<property name="phase1_common_src.link" value="${src_phase1.pathvariable}/common/src" />


	<path id="Methods.classpath">
		<fileset dir="lib" includes="*.jar"/>
		<fileset dir="Addlib" includes="*.jar"/>
	</path>

	<!-- クリーン -->
	<target name="clean">
		<delete dir="bin" />
	</target>


	<!-- 初期化 -->
	<target name="init">
		<!-- フォルダ作成 -->
		<mkdir dir="bin" />

		<!-- binへjava以外(設定系)のコピー -->
		<copy includeemptydirs="false" todir="bin">
			<fileset dir="${phase1_src.link}">
				<exclude name="**/*.java" />
			</fileset>
		</copy>
		<copy includeemptydirs="false" todir="bin">
			<fileset dir="${phase2_src.link}">
				<exclude name="**/*.java" />
			</fileset>
		</copy>
		<copy includeemptydirs="false" todir="bin">
			<fileset dir="${phase2_common_src.link}">
				<exclude name="**/*.java" />
			</fileset>
		</copy>
		<copy includeemptydirs="false" todir="bin">
			<fileset dir="${phase1_common_src.link}">
				<exclude name="**/*.java" />
			</fileset>
		</copy>
	</target>


	<target depends="init" name="build-project">
		<echo message="${ant.project.name}: ${ant.file}" />
		<javac debug="true" debuglevel="${debuglevel}" destdir="bin" includeantruntime="false" source="${source}" target="${target}" encoding="${ENCODING}" executable="${compiler}">
			<src path="${phase1_src.link}" />
			<src path="${phase2_src.link}" />
			<src path="${phase2_common_src.link}" />
			<src path="${phase1_common_src.link}" />
			<classpath refid="Methods.classpath" />
		</javac>
	</target>

	<!-- ビルドセット -->
	<target depends="clean,build-project" name="build" />

</project>
